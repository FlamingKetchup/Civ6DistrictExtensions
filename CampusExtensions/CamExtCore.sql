DELETE FROM Buildings
WHERE BuildingType IN ('BUILDING_LIBRARY', 'BUILDING_UNIVERSITY', 'BUILDING_MADRASA', 'BUILDING_RESEARCH_LAB');

INSERT INTO Types (Type, Kind)
VALUES ('DISTRICT_LIBRARY', 'KIND_DISTRICT'),
       ('DISTRICT_UNIVERSITY', 'KIND_DISTRICT'),
       ('DISTRICT_MADRASA', 'KIND_DISTRICT'),
       ('DISTRICT_RESEARCH_LAB', 'KIND_DISTRICT'),
       ('REQUIRES_DISTRICT_IS_LIBRARY', 'KIND_REQUIREMENT'),
       ('REQUIRES_DISTRICT_IS_UNIVERSITY', 'KIND_REQUIREMENT'),
       ('REQUIRES_DISTRICT_IS_RESEARCH_LAB', 'KIND_REQUIREMENT');

INSERT INTO Districts (DistrictType, Name, PrereqTech, PrereqCivic, Description, Cost, RequiresPlacement, RequiresPopulation, NoAdjacentCity, Aqueduct, InternalOnly, CaptureRemovesBuildings, CaptureRemovesCityDefenses, PlunderType, PlunderAmount, MilitaryDomain, TraitType, Housing, Maintenance)
VALUES ('DISTRICT_LIBRARY', 'LOC_BUILDING_LIBRARY_NAME', 'TECH_WRITING', NULL, NULL, 90, 1, 0, 0, 0, 0, 0, 0, 'PLUNDER_SCIENCE', 25, 'NO_DOMAIN', NULL, 0, 1),
       ('DISTRICT_UNIVERSITY', 'LOC_BUILDING_UNIVERSITY_NAME', 'TECH_EDUCATION', NULL, NULL, 250, 1, 0, 0, 0, 0, 0, 0, 'PLUNDER_SCIENCE', 25, 'NO_DOMAIN', NULL, 1, 2),
       ('DISTRICT_MADRASA', 'LOC_BUILDING_MADRASA_NAME', NULL, 'CIVIC_THEOLOGY', 'LOC_BUILDING_MADRASA_DESCRIPTION', 250, 1, 0, 0, 0, 0, 0, 0, 'PLUNDER_SCIENCE', 25, 'NO_DOMAIN', 'TRAIT_CIVILIZATION_BUILDING_MADRASA', 1, 2),
       ('DISTRICT_RESEARCH_LAB', 'LOC_BUILDING_RESEARCH_LAB_NAME', 'TECH_CHEMISTRY', NULL, NULL, 580, 1, 0, 0, 0, 0, 0, 0, 'PLUNDER_SCIENCE', 25, 'NO_DOMAIN', NULL, 0, 3);

INSERT INTO DistrictReplaces (CivUniqueDistrictType, ReplacesDistrictType)
VALUES ('DISTRICT_MADRASA', 'DISTRICT_UNIVERSITY');

INSERT INTO Modifiers (ModifierId, ModifierType)
VALUES ('LIBRARY_SCIENCE', 'MODIFIER_PLAYER_DISTRICT_ADJUST_BASE_YIELD_CHANGE'),
       ('UNIVERSITY_SCIENCE', 'MODIFIER_PLAYER_DISTRICT_ADJUST_BASE_YIELD_CHANGE'),
       ('MADRASA_SCIENCE', 'MODIFIER_PLAYER_DISTRICT_ADJUST_BASE_YIELD_CHANGE'),
       ('RESEARCH_LAB_SCIENCE', 'MODIFIER_PLAYER_DISTRICT_ADJUST_BASE_YIELD_CHANGE');

INSERT INTO ModifierArguments (ModifierId, Name, Value)
VALUES ('LIBRARY_SCIENCE', 'Amount', 1),
       ('LIBRARY_SCIENCE', 'YieldType', 'YIELD_SCIENE'),
       ('UNIVERSITY_SCIENCE', 'Amount', 3),
       ('UNIVERSITY_SCIENCE', 'YieldType', 'YIELD_SCIENCE'),
       ('MADRASA_SCIENCE', 'Amount', 4),
       ('MADRASA_SCIENCE', 'YieldType', 'YIELD_SCIENCE'),
       ('RESEARCH_LAB_SCIENCE', 'Amount', 4),
       ('RESEARCH_LAB_SCIENCE', 'YieldType', 'YIELD_SCIENCE');

UPDATE GreatPersonIndividuals
SET ActionRequiresCompletedDistrictType = 'DISTRICT_LIBRARY'
WHERE GreatPersonIndividualType = 'GREAT_PERSON_INDIVIDUAL_HYPATIA';

UPDATE GreatPersonIndividuals
SET ActionRequiresCompletedDistrictType = 'DISTRICT_UNIVERSITY'
WHERE GreatPersonIndividualType = 'GREAT_PERSON_INDIVIDUAL_ISAAC_NEWTON';

UPDATE GreatPersonIndividuals
SET ActionRequiresCompletedDistrictType = 'DISTRICT_RESEARCH_LAB'
WHERE GreatPersonIndividualType = 'GREAT_PERSON_INDIVIDUAL_ALBERT_EINSTEIN';

DELETE FROM GreatPersonIndividualActionModifiers
WHERE ModifierId IN ('GREATPERSON_LIBRARY', 'GREATPERSON_UNIVERSITY');

UPDATE Modifiers
SET ModifierType = 'MODIFIER_PLAYER_DISTRICT_ADJUST_YIELD_CHANGE'
WHERE ModifierId IN ('GREATPERSON_LIBRARIES_SCIENCE', 'GREATPERSON_UNIVERSITIES_SMALL_SCIENCE', 'GREATPERSON_RESEARCHLABS_BIG_SCIENCE');

INSERT INTO Requirements (RequirementId, RequirementType)
VALUES ('REQUIRES_DISTRICT_IS_LIBRARY', 'REQUIREMENT_DISTRICT_TYPE_MATCHES'),
       ('REQUIRES_DISTRICT_IS_UNIVERSITY', 'REQUIREMENT_DISTRICT_TYPE_MATCHES'),
       ('REQUIRES_DISTRICT_IS_RESEARCH_LAB', 'REQUIREMENT_DISTRICT_TYPE_MATCHES');

INSERT INTO RequirementArguments (RequirementId, Name, Value)
VALUES ('REQUIRES_DISTRICT_IS_LIBRARY', 'DistrictType', 'DISTRICT_LIBRARY'),
       ('REQUIRES_DISTRICT_IS_UNIVERSITY', 'DistrictType', 'DISTRICT_UNIVERSITY'),
       ('REQUIRES_DISTRICT_IS_RESEARCH_LAB', 'DistrictType', 'DISTRICT_RESEARCH_LAB');

INSERT INTO RequirementSets (RequirementSetId, RequirementSetType)
VALUES ('DISTRICT_IS_LIBRARY', 'REQUIREMENTSET_TEST_ALL'),
       ('DISTRICT_IS_UNIVERSITY', 'REQUIREMENTSET_TEST_ALL'),
       ('DISTRICT_IS_RESEARCH_LAB', 'REQUIREMENTSET_TEST_ALL');

INSERT INTO RequirementSetRequirements (RequirementSetId, RequirementId)
VALUES ('DISTRICT_IS_LIBRARY', 'REQUIRES_DISTRICT_IS_LIBRARY'),
       ('DISTRICT_IS_UNIVERSITY', 'REQUIRES_DISTRICT_IS_UNIVERSITY'),
       ('DISTRICT_IS_RESEARCH_LAB', 'REQUIRES_DISTRICT_IS_RESEARCH_LAB');

UPDATE Modifiers
SET SubjectRequirementSetID = 'DISTRICT_IS_LIBRARY'
WHERE ModifierId = 'GREATPERSON_LIBRARIES_SCIENCE';

UPDATE Modifiers
SET SubjectRequirementSetID = 'DISTRICT_IS_UNIVERSITY'
WHERE ModifierId = 'GREATPERSON_UNIVERSITIES_SMALL_SCIENCE';

UPDATE Modifiers
SET SubjectRequirementSetID = 'DISTRICT_IS_RESEARCH_LAB'
WHERE ModifierId = 'GREATPERSON_RESEARCHLABS_BIG_SCIENCE';

DELETE FROM ModifierArguments
WHERE ModifierId IN ('GREATPERSON_LIBRARIES_SCIENCE', 'GREATPERSON_UNIVERSITIES_SMALL_SCIENCE', 'GREATPERSON_RESEARCHLABS_BIG_SCIENCE') AND Name = 'BuildingType';
